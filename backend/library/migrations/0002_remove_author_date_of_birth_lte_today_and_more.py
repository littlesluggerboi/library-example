# Generated by Django 5.2.4 on 2025-07-31 15:37

import datetime
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0001_initial'),
    ]

    operations = [
        migrations.RemoveConstraint(
            model_name='author',
            name='date_of_birth_lte_today',
        ),
        migrations.RemoveConstraint(
            model_name='author',
            name='date_of_death_lte_today',
        ),
        migrations.RemoveConstraint(
            model_name='book',
            name='publication_date_cannot_be_after_today',
        ),
        migrations.RemoveConstraint(
            model_name='bookinstance',
            name='date_borrowed_null_or_gte_today',
        ),
        migrations.AlterField(
            model_name='book',
            name='language',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='library.language'),
        ),
        migrations.AlterField(
            model_name='book',
            name='publisher',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.RESTRICT, to='library.publisher'),
        ),
        migrations.AlterField(
            model_name='bookinstance',
            name='date_borrowed',
            field=models.DateField(null=True),
        ),
        migrations.AlterField(
            model_name='bookinstance',
            name='due_back',
            field=models.DateField(null=True),
        ),
        migrations.AlterField(
            model_name='bookinstanceborrowerrecord',
            name='date_borrowed',
            field=models.DateField(),
        ),
        migrations.AddConstraint(
            model_name='author',
            constraint=models.CheckConstraint(condition=models.Q(('date_of_birth__isnull', True), ('date_of_birth__lte', datetime.datetime(2025, 7, 31, 15, 37, 10, 690295, tzinfo=datetime.timezone.utc)), _connector='OR'), name='date_of_birth_lte_today'),
        ),
        migrations.AddConstraint(
            model_name='author',
            constraint=models.CheckConstraint(condition=models.Q(('date_of_death__isnull', True), ('date_of_death__lte', datetime.datetime(2025, 7, 31, 15, 37, 10, 690331, tzinfo=datetime.timezone.utc)), _connector='OR'), name='date_of_death_lte_today'),
        ),
        migrations.AddConstraint(
            model_name='book',
            constraint=models.CheckConstraint(condition=models.Q(('publication_date__isnull', True), ('publication_date__lte', datetime.datetime(2025, 7, 31, 15, 37, 10, 691088, tzinfo=datetime.timezone.utc)), _connector='OR'), name='publication_date_cannot_be_after_today'),
        ),
        migrations.AddConstraint(
            model_name='bookinstance',
            constraint=models.CheckConstraint(condition=models.Q(('date_borrowed__isnull', True), ('date_borrowed__gte', datetime.datetime(2025, 7, 31, 15, 37, 10, 692653, tzinfo=datetime.timezone.utc)), _connector='OR'), name='date_borrowed_null_or_gte_today'),
        ),
    ]
